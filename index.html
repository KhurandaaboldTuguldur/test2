<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <title>Blogge | Personal Blog Site</title>
  <meta name="robots" content="noindex, nofollow, noimageindex">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <link href="css/style.css" rel="stylesheet" />
  <link rel="shortcut icon" href="images/favicon.svg" type="image/x-icon" />

  <!-- ✅ 뉴스 카드 레이아웃 스타일 추가 -->
  <style>
    .articles-grid {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 24px;
    }

    @media (max-width: 992px) {
      .articles-grid {
        grid-template-columns: repeat(3, 1fr);
      }
    }

    @media (max-width: 768px) {
      .articles-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    .article-card {
      border: 1px solid #eee;
      border-radius: 8px;
      padding: 16px;
      background: white;
      text-decoration: none;
      color: inherit;
      box-shadow: 0 2px 4px rgba(0,0,0,0.05);
      transition: 0.2s ease-in-out;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }

    .article-card:hover {
      transform: translateY(-3px);
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }

    .article-card h4 {
      margin-top: 0;
      font-size: 1.05rem;
      font-weight: bold;
    }

    .article-card small {
      color: #888;
      font-size: 0.85rem;
      margin-top: 8px;
      display: block;
    }
  </style>
</head>
<body>

<!-- ✅ Navbar -->
<nav class="main-nav navbar navbar-expand-lg">
  <div class="container">
    <a class="navbar-brand" href="index.html">
      <img class="logo-main" src="images/logo.svg" alt="logo" />
    </a>
    <button class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#mainNav">
      <span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span>
    </button>
    <div class="collapse navbar-collapse nav-list" id="mainNav">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item"><a class="nav-link" href="index.html">홈</a></li>
        <li class="nav-item"><a class="nav-link" href="about.html">소개</a></li>
        <li class="nav-item"><a class="nav-link" href="contact.html">문의</a></li>
      </ul>
      <ul class="main-nav-social">
        <li><a href="#"><i class="fa fa-facebook"></i></a></li>
        <li><a href="#"><i class="fa fa-twitter"></i></a></li>
        <li><a href="#"><i class="fa fa-instagram"></i></a></li>
      </ul>
    </div>
  </div>
</nav>

<!-- ✅ Featured Section -->
<section class="featured">
  <!-- 생략 가능 -->
</section>

<!-- ✅ Articles + Trending Section -->
<section class="blog" id="articles-section">
  <div class="container">
    <div class="row">
      <div class="col-lg-8">
        <div id="articles-list" class="articles-grid"></div>
        <div class="pagination-controls text-center mt-4">
          <button id="prevPage" class="btn btn-outline-secondary mr-2">← 이전</button>
          <span id="pagination-info">Page 1</span>
          <button id="nextPage" class="btn btn-outline-secondary ml-2">다음 →</button>
        </div>
      </div>
      <div class="col-lg-4">
        <div class="trending-box">
          <h3 class="section-title">🔥 인기 포스트</h3>
          <div id="trending-posts"></div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- ✅ Footer -->
<footer class="footer">
  <div class="container-fluid text-center">
    <div><img src="images/logo.svg" alt="logo" class="footer-logo" /></div>
    <ul class="navbar-nav d-inline-flex justify-content-center my-2">
      <li class="nav-item"><a class="nav-link" href="index.html">홈</a></li>
      <li class="nav-item"><a class="nav-link" href="about.html">소개</a></li>
      <li class="nav-item"><a class="nav-link" href="contact.html">문의</a></li>
    </ul>
    <ul class="sociale-icon d-inline-flex justify-content-center">
      <li><a href="#"><i class="fa fa-facebook"></i></a></li>
      <li><a href="#"><i class="fa fa-twitter"></i></a></li>
      <li><a href="#"><i class="fa fa-instagram"></i></a></li>
    </ul>
    <p class="copy-right mt-3">© <span id="copyrightYear"></span> - 모든 권리 보유. Theme by <a href="https://staticmania.com/">StaticMania</a> & <a href="https://themewagon.com/">ThemeWagon</a></p>
  </div>
</footer>

<!-- ✅ Scripts -->
<script src="vendor/jQuery/jquery.min.js"></script>
<script src="vendor/bootstrap/bootstrap.min.js"></script>
<script src="vendor/slick/slick.min.js"></script>
<script src="js/script.js"></script>

<!-- ✅ 뉴스 렌더링 및 페이지네이션 -->
<script>
  const postsPerPage = 10;
  let currentPage = 1;
  let allPosts = [];

  async function loadPosts() {
    try {
      const res = await fetch('/posts/index.json');
      allPosts = await res.json();
      renderPage();
    } catch (err) {
      document.getElementById('articles-list').innerHTML = '<p style="color:red;">포스트를 불러오는 데 실패했습니다.</p>';
    }
  }

  function renderPage() {
    const list = document.getElementById('articles-list');
    list.innerHTML = '';

    const start = (currentPage - 1) * postsPerPage;
    const end = start + postsPerPage;
    const currentPosts = allPosts.slice(start, end);

    currentPosts.forEach(post => {
      const card = document.createElement('a');
      card.className = 'article-card';
      card.href = `single-blog.html?slug=${post.slug}`;
      card.innerHTML = `
        <h4>${post.title}</h4>
        <small>${post.date || ''}</small>
      `;
      list.appendChild(card);
    });

    document.getElementById('pagination-info').textContent = `Page ${currentPage}`;
  }

  document.getElementById('prevPage').addEventListener('click', () => {
    if (currentPage > 1) {
      currentPage--;
      renderPage();
    }
  });

  document.getElementById('nextPage').addEventListener('click', () => {
    if (currentPage * postsPerPage < allPosts.length) {
      currentPage++;
      renderPage();
    }
  });

  loadPosts();
</script>

</body>
</html>
